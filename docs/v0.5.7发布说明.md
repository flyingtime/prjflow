# v0.5.7 发布说明

**发布日期**: 2025年12月21日

## 版本概述

v0.5.7 版本主要聚焦于代码重构优化、UI问题修复、Docker部署支持以及项目品牌更新。通过提取可复用组件、修复弹窗遮挡问题、添加Docker支持，提升了代码质量和系统部署便利性。

## 主要更新

### 代码重构优化 🔧

#### 版本选择器组件化
- **提取 VersionSelectWithCreate 组件**
  - 创建可复用的版本选择器组件，支持单选/多选和创建新版本功能
  - 在Bug新增/编辑表单、Bug状态更新表单中使用新组件
  - 减少约100+行重复代码，提高代码可维护性
  - 统一UI和交互体验

### 问题修复 🐛

#### UI层级问题修复
- **修复需求详情转任务/转Bug弹窗被遮挡**
  - 为Modal.confirm添加zIndex: 2100，确保显示在详情弹窗之上
  - 修复需求详情页和Bug详情页的转换确认对话框被遮挡问题

- **修复Bug指派界面问题**
  - 修复状态下拉框被遮挡问题
  - 修复指派给下拉框不显示成员的问题

### 功能增强 ✨

#### 工作报告功能优化
- **添加自动加载工作汇总功能**
  - 优化工作报告的用户体验
  - 自动加载工作汇总数据

#### Docker部署支持
- **添加Docker支持**
  - 创建Dockerfile和docker-compose.yml
  - 添加Docker启动脚本和Docker Compose安装脚本
  - 支持直接启动服务和安装Docker Compose V2
  - 简化部署流程

### 项目更新 📝

#### 品牌和文档更新
- **项目重命名**
  - 将项目名称从"项目管理系统"改为"项目流"（prjflow）
  - 添加项目logo
  - 更新项目文档和构建脚本

- **官网和演示数据**
  - 更新项目首页，优化统计数据展示
  - 添加GitHub统计数据获取功能
  - 添加演示数据生成工具，支持生成完整的演示数据库
  - 添加原始数据库文件demo.db

- **权限管理优化**
  - 修复权限代码命名，统一使用project-management

## 技术细节

### 代码变更
- **新增组件**
  - `frontend/src/components/VersionSelectWithCreate.vue` - 版本选择器组件

- **重构文件**
  - `frontend/src/views/bug/Bug.vue` - 使用新组件，清理重复代码
  - `frontend/src/views/bug/BugDetail.vue` - 使用新组件，清理重复代码
  - `frontend/src/views/requirement/Requirement.vue` - 修复弹窗遮挡问题

### 部署相关
- **新增文件**
  - `Dockerfile` - Docker镜像构建文件
  - `docker-compose.yml` - Docker Compose配置
  - `scripts/docker-start.sh` - Docker启动脚本
  - `scripts/install-docker-compose-v2.sh` - Docker Compose安装脚本

### 数据库变更
- 无数据库结构变更
- 添加演示数据库文件demo.db

### API变更
- 无破坏性API变更

## 升级说明

### 升级步骤
1. **更新代码**：拉取最新代码
2. **前端更新**：需要重新构建前端
   ```bash
   cd frontend
   npm run build
   ```
3. **后端更新**：需要重新编译后端
   ```bash
   cd backend
   go build -o server cmd/server/main.go
   ```

### Docker部署（新功能）
```bash
# 使用Docker Compose启动
docker-compose up -d

# 或使用启动脚本
./scripts/docker-start.sh
```

### 兼容性
- **向后兼容**：完全兼容 v0.5.6
- **API兼容**：所有API保持向后兼容
- **数据兼容**：无需数据迁移

### 注意事项
- 本次更新主要优化代码结构和修复UI问题，建议所有用户升级
- 新增Docker支持，推荐使用Docker部署的用户升级
- 代码重构优化，提高了代码可维护性

## 统计信息

- **提交数量**：22个提交
- **主要功能**：
  - 代码重构优化（1项）
  - UI问题修复（3项）
  - 功能增强（2项）
  - 项目更新（5项）

### 代码改进
- **组件化**：提取版本选择器组件，减少100+行重复代码
- **UI修复**：修复3个弹窗遮挡问题
- **部署优化**：添加Docker支持，简化部署流程

---

**版本号**: v0.5.7  
**发布日期**: 2025年12月21日  
**兼容性**: 向后兼容 v0.5.6  
**建议升级**: ✅ 是（代码优化和UI问题修复）

